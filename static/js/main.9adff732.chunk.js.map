{"version":3,"sources":["assects/dragon-egg.png","assects/egg-head.png","assects/egg-tail.png","assects/mon1.png","container/egg/egg.js","assects/wenhao.png","App.js","index.js"],"names":["Egg","useState","time","setTime","isfu","setIsfu","isbreak","setIsbreak","mon","setMon","adapt","setAdapt","monProps","setMonProps","name","setName","id","setId","startTime","setStartTime","JSON","parse","localStorage","getItem","mons","setMons","useEffect","Date","getTime","setItem","Math","min","a","m","push","setTimeout","className","src","egg","alt","eggHead","eggTail","value","max","toFixed","style","opacity","onClick","ceil","random","url","fn","Img","Image","dataURL","onload","canvas","document","createElement","width","height","ctx","getContext","drawImage","imgData","getImageData","data","randBaseR","floor","randBaseB","randBaseG","i","length","putImageData","toDataURL","getBase64","mon1","e","pets","stringify","disabled","type","maxLength","onChange","target","cur","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9adff732.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/dragon-egg.77956a12.png\";","export default __webpack_public_path__ + \"static/media/egg-head.8710bdba.png\";","export default __webpack_public_path__ + \"static/media/egg-tail.5df6bcec.png\";","export default __webpack_public_path__ + \"static/media/mon1.caf5bfe6.png\";","import { useState, useEffect } from 'react';\r\nimport egg from '../../assects/dragon-egg.png';\r\nimport eggHead from '../../assects/egg-head.png';\r\nimport eggTail from '../../assects/egg-tail.png';\r\nimport wenhao from '../../assects/wenhao.png';\r\nimport mon1 from '../../assects/mon1.png';\r\nimport './egg.css';\r\nfunction getBase64(url, fn) {\r\n    var Img = new Image(),\r\n        dataURL = '';\r\n    Img.src = url;\r\n    Img.onload = function () {\r\n        var canvas = document.createElement('canvas'),\r\n            width = Img.width,\r\n            height = Img.height;\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        let ctx = canvas.getContext('2d');\r\n        ctx.drawImage(Img, 0, 0, width, height);\r\n        let imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n        let data = imgData.data;\r\n        let randBaseR = Math.floor((Math.random() * 255 + 1));\r\n        let randBaseB = Math.floor((Math.random() * 255 + 1));\r\n        let randBaseG = Math.floor((Math.random() * 255 + 1));\r\n        for (let i = 0; i < data.length; i += 4) {                \r\n            if (data[i] + data[i + 1] + data[i + 2] > 760) {\r\n                randBaseR += Math.floor((Math.random() * 3)-1);\r\n                randBaseB += Math.floor((Math.random() * 3)-1);\r\n                randBaseG += Math.floor((Math.random() * 3)-1);\r\n                data[i] = randBaseR +  Math.floor((Math.random() * 120)-60);\r\n                data[i + 1] = randBaseB+  Math.floor((Math.random() * 120)-60);\r\n                data[i + 2] = randBaseG+  Math.floor((Math.random() * 120)-60);\r\n            }\r\n        }\r\n        ctx.data = data;\r\n        ctx.putImageData(imgData, 0, 0);\r\n        dataURL = canvas.toDataURL('image/png');\r\n        fn(dataURL);\r\n    };\r\n}\r\nfunction Egg() {\r\n    let [time, setTime] = useState(null);\r\n    let [isfu, setIsfu] = useState(true);\r\n    let [isbreak, setIsbreak] = useState(false);\r\n    let [mon, setMon] = useState(null);\r\n    let [adapt, setAdapt] = useState(false);\r\n    let [monProps, setMonProps] = useState([]);\r\n    let [name, setName] = useState(\"\");\r\n    let [id, setId] = useState(\"\");\r\n    let [startTime, setStartTime] = useState(\"\");\r\n    let [mons,setMons] = useState(JSON.parse(localStorage.getItem(\"pets\")));\r\n    useEffect(() => {\r\n        let time = localStorage.getItem(\"egg-start-time\") || new Date().getTime();\r\n        localStorage.setItem(\"egg-start-time\", time);\r\n        setStartTime(time);\r\n        setTime(Math.min((new Date().getTime() - time) /1000, 18000));\r\n        let a = [];\r\n        for(let m in mons){\r\n            a.push({id:m,...mons[m]});\r\n        }\r\n        setMons(a);\r\n    }, []);\r\n    useEffect(() => {\r\n        setTimeout(\r\n            () => {\r\n                isfu &&\r\n                    setTime(Math.min((new Date().getTime() - startTime) / 1000, 18000));\r\n            }, 1000);\r\n            \r\n        return () => {\r\n\r\n        }\r\n    });\r\n\r\n\r\n    let handleFuhua = () => {\r\n        if (!isbreak) {\r\n            setIsbreak(true);\r\n            setIsfu(false);\r\n        } else {\r\n            let monProps = [\r\n                Math.ceil(Math.random() * 100),\r\n                Math.ceil(Math.random() * 100),\r\n                Math.ceil(Math.random() * 100)\r\n            ];\r\n            setMonProps(monProps);\r\n            setIsbreak(false);\r\n            getBase64(mon1, (e) => {\r\n                setMon(e);\r\n                let id = Math.ceil(Math.random() * 200000000);\r\n                setId(id);\r\n                let pets = JSON.parse(localStorage.getItem(\"pets\")) || {};\r\n                pets[id] = { name, monProps, dataURL: e };\r\n                localStorage.setItem('pets', JSON.stringify(pets));\r\n            });\r\n            setAdapt(true);\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"egg-container\">\r\n            {\r\n                isfu &&\r\n                <>\r\n                    <img className=\"eggimg\" src={egg} alt=\"egg\" />\r\n                </> ||\r\n                isbreak &&\r\n                <div className=\"breakegg\">\r\n                    <img className=\"eggimg egg-head\" src={eggHead} alt=\"\" />\r\n                    <img className=\"eggimg\" src={eggTail} alt=\"\" />\r\n                    <img className=\"eggimg\" src={wenhao} alt=\"\" />\r\n                </div>\r\n            }\r\n            <progress className=\"loading\" value={time} max=\"18000\"></progress>\r\n            <div className=\"loadnum\" >{(((time || 0) / 18000) * 100).toFixed(2) + '%'}</div>\r\n            <div>{time === 18000 ? \"\" : \"剩余时间：\" + ((18000 - (time || 0)) / 60).toFixed(1) + 'min'}</div>\r\n            <button className=\"eggbtn\"\r\n                style={{ opacity: time < 18000 ? 0 : 1 }} onClick={handleFuhua}\r\n                disabled={time < 18000}\r\n            >{isbreak ? '领养~~' : '破壳~~'}</button>\r\n\r\n            {/*这是领养时的弹窗*/}\r\n            {\r\n                adapt &&\r\n                <div className=\"mon\">\r\n                    <img className=\"monimg\" src={mon} alt=\"123\" />\r\n                    <div>名字：<input className=\"nameinput\" type=\"text\" maxLength=\"8\" onChange={(e) => { setName(e.target.value) }} /></div>\r\n                    <div>血量：{monProps[0]}|攻击：{monProps[1]}|防御：{monProps[2]}</div>\r\n                    <button className=\"eggbtn\"\r\n                        onClick={() => {\r\n                            setTime(0);\r\n                            setAdapt(false);\r\n                            let cur = new Date().getTime();\r\n                            localStorage.setItem(\"egg-start-time\", cur);\r\n                            setStartTime(cur)\r\n                            setIsfu(true);\r\n                            let pets = JSON.parse(localStorage.getItem(\"pets\")) || {};\r\n                            pets[id]['name'] = name;\r\n                            localStorage.setItem('pets', JSON.stringify(pets));\r\n                        }}>收下啦！！！</button>\r\n                </div>\r\n            }\r\n            \r\n            \r\n        </div>\r\n    )\r\n}\r\nexport default Egg;\r\n","export default \"data:image/png;base64,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\"","import Egg from './container/egg/egg.js';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Egg></Egg>\n    </div>\n  );\n}  \n\nexport default App;\n ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}